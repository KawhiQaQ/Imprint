/* ========================================
   LoadingOverlay - 苔原静谧 (Moss & Mist)
   禅意加载动画 - 优化版
   ======================================== */

.loading-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

/* 背景 */
.loading-overlay__bg {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(93, 114, 96, 0.97) 0%,
    rgba(93, 114, 96, 0.99) 50%,
    rgba(74, 92, 77, 1) 100%
  );
}

/* 和纸纹理 */
.loading-overlay__bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
}

/* 内容容器 */
.loading-overlay__content {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 600px;
  padding: 0 var(--spacing-xl);
}

/* ========================================
   禅意圆环动画 - 放大版
   ======================================== */

.loading-overlay__zen {
  position: relative;
  width: 180px;
  height: 180px;
  margin-bottom: var(--spacing-2xl);
}

.loading-overlay__circle {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.loading-overlay__circle--outer {
  inset: 0;
  animation: zenRotate 12s linear infinite;
}

.loading-overlay__circle--middle {
  inset: 25px;
  animation: zenRotate 9s linear infinite reverse;
}

.loading-overlay__circle--inner {
  inset: 50px;
  animation: zenRotate 6s linear infinite;
}

/* 圆环上的装饰点 */
.loading-overlay__circle--outer::before,
.loading-overlay__circle--middle::before,
.loading-overlay__circle--inner::before {
  content: '';
  position: absolute;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  top: -3px;
  left: 50%;
  transform: translateX(-50%);
}

.loading-overlay__circle--outer::before {
  width: 6px;
  height: 6px;
  top: -3px;
}

.loading-overlay__circle--middle::before {
  width: 5px;
  height: 5px;
  top: -2.5px;
  background: rgba(255, 255, 255, 0.4);
}

.loading-overlay__circle--inner::before {
  width: 4px;
  height: 4px;
  top: -2px;
  background: rgba(255, 255, 255, 0.3);
}

/* 中心点 */
.loading-overlay__dot {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 12px;
  height: 12px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: zenPulse 2s ease-in-out infinite;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}

@keyframes zenRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes zenPulse {
  0%, 100% { 
    opacity: 0.6;
    transform: translate(-50%, -50%) scale(1);
  }
  50% { 
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.3);
  }
}

/* ========================================
   文字样式 - 更大更舒展
   ======================================== */

.loading-overlay__text {
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

.loading-overlay__message {
  font-family: 'Noto Serif SC', serif;
  font-size: 1.5rem;
  font-weight: 400;
  color: rgba(255, 255, 255, 0.95);
  letter-spacing: 0.12em;
  margin: 0 0 var(--spacing-md);
  line-height: 1.6;
}

.loading-overlay__sub {
  font-size: 0.9375rem;
  color: rgba(255, 255, 255, 0.5);
  margin: 0;
  letter-spacing: 0.05em;
}

/* 装饰诗句 - 移到上方，更显眼 */
.loading-overlay__poem {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  font-family: 'Noto Serif SC', serif;
  font-size: 0.9375rem;
  color: rgba(255, 255, 255, 0.35);
  letter-spacing: 0.2em;
  margin-bottom: var(--spacing-2xl);
  white-space: nowrap;
}

.loading-overlay__poem-dot {
  font-size: 0.625rem;
  opacity: 0.6;
}

/* ========================================
   装饰元素
   ======================================== */

.loading-overlay__decor {
  position: absolute;
  pointer-events: none;
}

/* 左上角装饰 */
.loading-overlay__decor--tl {
  top: 12%;
  left: 10%;
  width: 100px;
  height: 100px;
  border: 1.5px solid rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  animation: floatSlow 8s ease-in-out infinite;
}

/* 右下角装饰 */
.loading-overlay__decor--br {
  bottom: 18%;
  right: 12%;
  width: 70px;
  height: 70px;
  border: 1.5px solid rgba(255, 255, 255, 0.12);
  border-radius: 50%;
  animation: floatSlow 6s ease-in-out infinite reverse;
}

/* 右上角小点 */
.loading-overlay__decor--tr {
  top: 22%;
  right: 18%;
  width: 12px;
  height: 12px;
  background: rgba(255, 255, 255, 0.25);
  border-radius: 50%;
  animation: breathe 2.5s ease-in-out infinite;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.15);
}

/* 左下角小点 */
.loading-overlay__decor--bl {
  bottom: 28%;
  left: 15%;
  width: 10px;
  height: 10px;
  background: rgba(255, 255, 255, 0.22);
  border-radius: 50%;
  animation: breathe 3s ease-in-out infinite 0.8s;
  box-shadow: 0 0 8px rgba(255, 255, 255, 0.12);
}

/* 额外装饰 - 中左 */
.loading-overlay__decor--ml {
  top: 45%;
  left: 6%;
  width: 6px;
  height: 6px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  animation: breathe 2.8s ease-in-out infinite 1.2s;
}

/* 额外装饰 - 中右 */
.loading-overlay__decor--mr {
  top: 40%;
  right: 8%;
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.18);
  border-radius: 50%;
  animation: breathe 3.2s ease-in-out infinite 0.4s;
}

@keyframes floatSlow {
  0%, 100% { transform: translateY(0) scale(1); opacity: 1; }
  50% { transform: translateY(-20px) scale(1.08); opacity: 0.8; }
}

@keyframes breathe {
  0%, 100% { 
    opacity: 0.15; 
    transform: scale(0.9);
    box-shadow: 0 0 5px rgba(255, 255, 255, 0.1);
  }
  50% { 
    opacity: 0.45; 
    transform: scale(1.15);
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.25);
  }
}

/* ========================================
   过渡动画
   ======================================== */

.loading-overlay--entering {
  animation: overlayEnter 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.loading-overlay--entering .loading-overlay__content {
  animation: contentEnter 0.6s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
}

.loading-overlay--exiting {
  animation: overlayExit 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.loading-overlay--exiting .loading-overlay__content {
  animation: contentExit 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes overlayEnter {
  from {
    opacity: 0;
    clip-path: circle(0% at 50% 50%);
  }
  to {
    opacity: 1;
    clip-path: circle(150% at 50% 50%);
  }
}

@keyframes overlayExit {
  from {
    opacity: 1;
    clip-path: circle(150% at 50% 50%);
  }
  to {
    opacity: 0;
    clip-path: circle(0% at 50% 50%);
  }
}

@keyframes contentEnter {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes contentExit {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-20px);
  }
}

/* ========================================
   响应式
   ======================================== */

@media (max-width: 640px) {
  .loading-overlay__zen {
    width: 140px;
    height: 140px;
    margin-bottom: var(--spacing-xl);
  }

  .loading-overlay__circle--middle {
    inset: 20px;
  }

  .loading-overlay__circle--inner {
    inset: 40px;
  }

  .loading-overlay__message {
    font-size: 1.25rem;
  }

  .loading-overlay__poem {
    font-size: 0.8125rem;
    margin-bottom: var(--spacing-xl);
  }

  .loading-overlay__decor--tl,
  .loading-overlay__decor--br {
    display: none;
  }
}
